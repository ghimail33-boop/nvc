<!DOCTYPE html>
<html lang="ne">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‡§∞‡§æ‡§∑‡•ç‡§ü‡•ç‡§∞‡§ø‡§Ø ‡§∏‡§§‡§∞‡•ç‡§ï‡§§‡§æ ‡§ï‡•á‡§®‡•ç‡§¶‡•ç‡§∞ - ‡§â‡§ú‡•Å‡§∞‡•Ä ‡§µ‡•ç‡§Ø‡§µ‡§∏‡•ç‡§•‡§æ‡§™‡§®</title>

        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Preahvihear&display=swap" rel="stylesheet">
    
    <!-- Bootstrap CSS (Optional) -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    
    <!-- Nepali DatePicker CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/nepali-datepicker-css@1.0.3/nepali-datepicker.min.css">
    
    <!-- External Libraries -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="https://nepalidatepicker.sajanmaharjan.com.np/v5/nepali.datepicker/css/nepali.datepicker.v5.0.6.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/toastify-js/src/toastify.min.css">
    <link rel="stylesheet" href="style.css">  
    
        <!-- ... other head elements ... -->
    
    <!-- Favicon -->
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üèõÔ∏è</text></svg>">
    
    <!-- OR use a simple PNG -->
    <!-- <link rel="icon" type="image/png" href="favicon.png"> -->
    <!-- Nepali DatePicker CSS -->
<!-- <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/nepali-datepicker-css@1.0.0/nepali-datepicker.min.css"> -->

<!-- Nepali DatePicker JS -->
<script src="https://cdn.jsdelivr.net/npm/nepali-datepicker-js@1.0.0/nepali-datepicker.min.js"></script>

<!-- Nepali Functions (AD to BS conversion) -->
<script src="https://cdn.jsdelivr.net/npm/nepali-functions@1.0.0/nepali-functions.min.js"></script>

</head>
<body>
    <!-- Main Page -->
    <div id="mainPage" class="page">
        <header class="main-header d-flex align-center justify-between">
            <div class="logo-container">
                <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/2/23/Emblem_of_Nepal.svg/100px-Emblem_of_Nepal.svg.png" 
                     alt="‡§®‡•á‡§™‡§æ‡§≤‡§ï‡•ã ‡§®‡§ø‡§∂‡§æ‡§®‡§æ ‡§õ‡§æ‡§™" class="logo" />
                <div>
                    <h3 class="mb-1" style="color: var(--primary);">‡§®‡•á‡§™‡§æ‡§≤ ‡§∏‡§∞‡§ï‡§æ‡§∞<br>‡§∞‡§æ‡§∑‡•ç‡§ü‡•ç‡§∞‡§ø‡§Ø ‡§∏‡§§‡§∞‡•ç‡§ï‡§§‡§æ ‡§ï‡•á‡§®‡•ç‡§¶‡•ç‡§∞</h3>
                    <p class="text-muted text-small">‡§â‡§ú‡•Å‡§∞‡•Ä ‡§µ‡•ç‡§Ø‡§µ‡§∏‡•ç‡§•‡§æ‡§™‡§® ‡§™‡•ç‡§∞‡§£‡§æ‡§≤‡•Ä</p>
                </div>
            </div>
            <div class="d-flex align-center gap-3">
                <div class="text-right">
                    <div id="currentDateTime" class="text-small" style="color: var(--gray-700);"></div>
                    <div class="text-xs text-muted" id="currentNepaliDate"></div>
                </div>
            </div>
        </header>

        <main>
            <!-- ‡§°‡•á‡§≠‡§≤‡§™‡§Æ‡•á‡§®‡•ç‡§ü ‡§ü‡•Ç‡§≤ - ‡§™‡§õ‡§ø ‡§π‡§ü‡§æ‡§â‡§® ‡§∏‡§ï‡§ø‡§®‡•ç‡§õ -->
<div style="position: fixed; bottom: 10px; right: 10px; z-index: 9999;">
  <button onclick="testDataLoad()" style="background: #007bff; color: white; border: none; padding: 5px 10px; border-radius: 3px; margin-right: 5px;">
    Test Load
  </button>
  <button onclick="checkState()" style="background: #28a745; color: white; border: none; padding: 5px 10px; border-radius: 3px;">
    Check State
  </button>
</div>
            <div class="hero-section">
                <h4 class="hero-title">‡§â‡§ú‡•Å‡§∞‡•Ä ‡§µ‡•ç‡§Ø‡§µ‡§∏‡•ç‡§•‡§æ‡§™‡§® ‡§™‡•ç‡§∞‡§£‡§æ‡§≤‡•Ä‡§Æ‡§æ ‡§∏‡•ç‡§µ‡§æ‡§ó‡§§ ‡§õ</h4>
                <p class="hero-subtitle">
                    ‡§∞‡§æ‡§∑‡•ç‡§ü‡•ç‡§∞‡§ø‡§Ø ‡§∏‡§§‡§∞‡•ç‡§ï‡§§‡§æ ‡§ï‡•á‡§®‡•ç‡§¶‡•ç‡§∞‡§ï‡•ã ‡§è‡§ï‡•Ä‡§ï‡•É‡§§ ‡§â‡§ú‡•Å‡§∞‡•Ä ‡§µ‡•ç‡§Ø‡§µ‡§∏‡•ç‡§•‡§æ‡§™‡§® ‡§™‡•ç‡§∞‡§£‡§æ‡§≤‡•Ä
                </p>
                <div class="quick-stats">
                    <div class="stat-card">
                        <div class="stat-value" id="totalComplaintsMain">0</div>
                        <div class="stat-label">‡§ï‡•Ç‡§≤ ‡§â‡§ú‡•Å‡§∞‡•Ä‡§π‡§∞‡•Ç</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value" id="pendingComplaintsMain">0</div>
                        <div class="stat-label">‡§ï‡§æ‡§Æ ‡§¨‡§æ‡§Å‡§ï‡•Ä</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value" id="resolvedComplaintsMain">0</div>
                        <div class="stat-label">‡§´‡§õ‡•ç‡§∞‡§Ø‡•å‡§ü ‡§≠‡§è‡§ï‡§æ</div>
                    </div>
                    <!-- <div class="stat-card">
                        <div class="stat-value" id="activeUsersMain">0</div>
                        <div class="stat-label">‡§∏‡§ï‡•ç‡§∞‡§ø‡§Ø ‡§™‡•ç‡§∞‡§Ø‡•ã‡§ó‡§ï‡§∞‡•ç‡§§‡§æ</div>
                    </div> -->
                </div>
            </div>

            <div class="dashboard-grid">
                <!-- Admin Panel -->
                <a href="#" class="module-card" onclick="openAdminLogin()">
                    <div class="module-icon">
                        <i class="fas fa-user-cog"></i>
                    </div>
                    <h3 class="module-title">‡§è‡§°‡§Æ‡§ø‡§® ‡§™‡•ç‡§Ø‡§æ‡§®‡§≤</h3>
                    <p class="module-description">
                        ‡§∏‡§¨‡•à ‡§∂‡§æ‡§ñ‡§æ‡§π‡§∞‡•Ç‡§ï‡•ã ‡§µ‡•ç‡§Ø‡§µ‡§∏‡•ç‡§•‡§æ‡§™‡§®, ‡§®‡§ø‡§Ø‡§®‡•ç‡§§‡•ç‡§∞‡§£ ‡§∞ ‡§µ‡§ø‡§∂‡•ç‡§≤‡•á‡§∑‡§£
                    </p>
                </a>

                <!-- Complaint Management -->
                <a href="#" class="module-card" onclick="openShakhaSelection()">
                    <div class="module-icon">
                        <i class="fas fa-file-alt"></i>
                    </div>
                    <h3 class="module-title">‡§â‡§ú‡•Å‡§∞‡•Ä ‡§µ‡•ç‡§Ø‡§µ‡§∏‡•ç‡§•‡§æ‡§™‡§®</h3>
                    <p class="module-description">
                        ‡§®‡§Ø‡§æ‡§Å ‡§â‡§ú‡•Å‡§∞‡•Ä ‡§¶‡§∞‡•ç‡§§‡§æ, ‡§∏‡§Æ‡•ç‡§™‡§æ‡§¶‡§® ‡§∞ ‡§â‡§ú‡•Å‡§∞‡•Ä ‡§ü‡•ç‡§∞‡•ç‡§Ø‡§æ‡§ï‡§ø‡§ô <br> 
                        ‡§∂‡§æ‡§ñ‡§æ ‡§Ö‡§®‡•Å‡§∏‡§æ‡§∞‡§ï‡•ã ‡§â‡§ú‡•Å‡§∞‡•Ä 
                    </p>
                </a>

                <!-- Reports & Analytics -->
                <a href="#" class="module-card" onclick="openReports()">
                    <div class="module-icon">
                        <i class="fas fa-chart-line"></i>
                    </div>
                    <h3 class="module-title">‡§∞‡§ø‡§™‡•ã‡§∞‡•ç‡§ü ‡§∞ ‡§µ‡§ø‡§∂‡•ç‡§≤‡•á‡§∑‡§£</h3>
                    <p class="module-description">
                        ‡§µ‡§ø‡§∏‡•ç‡§§‡•É‡§§ ‡§∞‡§ø‡§™‡•ã‡§∞‡•ç‡§ü <br> ‡§Æ‡•Ç‡§≤‡•ç‡§Ø‡§æ‡§ô‡•ç‡§ï‡§® ‡§∞ Trend Analysis
                    </p>
                </a>

                <!-- Settings -->
                <a href="#" class="module-card" onclick="openSettings()">
                    <div class="module-icon">
                        <i class="fas fa-cogs"></i>
                    </div>
                    <h3 class="module-title">‡§∏‡•á‡§ü‡§ø‡§ô‡§π‡§∞‡•Ç</h3>
                    <p class="module-description">
                        ‡§∏‡§ø‡§∏‡•ç‡§ü‡§Æ ‡§ï‡§®‡•ç‡§´‡§ø‡§ó‡§∞‡•á‡§∏‡§®, ‡§™‡•ç‡§∞‡§Ø‡•ã‡§ó‡§ï‡§∞‡•ç‡§§‡§æ ‡§µ‡•ç‡§Ø‡§µ‡§∏‡•ç‡§•‡§æ‡§™‡§®, 
                        ‡§∞ ‡§ï‡§∏‡•ç‡§ü‡§Æ‡§æ‡§á‡§ú‡•ç‡§° ‡§∏‡•á‡§ü‡§ø‡§ô‡§π‡§∞‡•Ç‡•§
                    </p>
                </a>
            </div>
        </main>
    </div>

    <!-- Login Page -->
    <div id="loginPage" class="page hidden">
        <div class="login-container">
            <div class="login-card">
                <div class="login-logo">
                    <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/2/23/Emblem_of_Nepal.svg/100px-Emblem_of_Nepal.svg.png" 
                         alt="‡§®‡•á‡§™‡§æ‡§≤‡§ï‡•ã ‡§®‡§ø‡§∂‡§æ‡§®‡§æ ‡§õ‡§æ‡§™" />
                    <h2 class="login-title" id="loginPageTitle">‡§≤‡§ó-‡§á‡§® ‡§ó‡§∞‡•ç‡§®‡•Å‡§π‡•ã‡§∏‡•ç</h2>
                    <p class="login-subtitle" id="loginPageSubtitle">‡§ï‡•É‡§™‡§Ø‡§æ ‡§Ü‡§´‡•ç‡§®‡•ã ‡§Ø‡•Å‡§ú‡§∞‡§®‡•á‡§Æ ‡§∞ ‡§™‡§æ‡§∏‡§µ‡§∞‡•ç‡§° ‡§™‡•ç‡§∞‡§µ‡§ø‡§∑‡•ç‡§ü ‡§ó‡§∞‡•ç‡§®‡•Å‡§π‡•ã‡§∏‡•ç</p>
                </div>
                
                <div class="form-group">
                    <label class="form-label" for="loginUsername">‡§Ø‡•Å‡§ú‡§∞‡§®‡•á‡§Æ</label>
                    <div class="input-group">
                        <span class="input-group-text"><i class="fas fa-user"></i></span>
                        <input type="text" id="loginUsername" class="form-control" placeholder="‡§§‡§™‡§æ‡§à‡§Ç‡§ï‡•ã ‡§Ø‡•Å‡§ú‡§∞‡§®‡•á‡§Æ" />
                    </div>
                </div>
                
                <div class="form-group">
                    <label class="form-label" for="loginPassword">‡§™‡§æ‡§∏‡§µ‡§∞‡•ç‡§°</label>
                    <div class="input-group">
                        <span class="input-group-text"><i class="fas fa-lock"></i></span>
                        <input type="password" id="loginPassword" class="form-control" placeholder="‡§§‡§™‡§æ‡§à‡§Ç‡§ï‡•ã ‡§™‡§æ‡§∏‡§µ‡§∞‡•ç‡§°" />
                    </div>
                </div>
                
                <div class="form-group">
                    <div class="d-flex justify-between align-center">
                        <div class="d-flex align-center gap-1">
                            <input type="checkbox" id="rememberMe" />
                            <label for="rememberMe" class="text-small">‡§Æ‡§≤‡§æ‡§à ‡§∏‡§Æ‡•ç‡§ù‡§®‡•Å‡§π‡•ã‡§∏‡•ç</label>
                        </div>
                        <a href="#" class="text-small text-primary">‡§™‡§æ‡§∏‡§µ‡§∞‡•ç‡§° ‡§¨‡§ø‡§∞‡•ç‡§∏‡§®‡•Å‡§≠‡§Ø‡•ã?</a>
                    </div>
                </div>
                
                <button class="btn btn-primary btn-block" onclick="handleLogin()" id="loginButton">
                    <i class="fas fa-sign-in-alt"></i> ‡§≤‡§ó-‡§á‡§® ‡§ó‡§∞‡•ç‡§®‡•Å‡§π‡•ã‡§∏‡•ç
                </button>
                
                <div class="login-footer">
                    <!-- <p class="mb-1">‡§è‡§°‡§Æ‡§ø‡§® ‡§≤‡§ó-‡§á‡§®: admin / nvc123</p> -->
                    <p class="text-xs text-muted">‡§â‡§ú‡•Å‡§∞‡•Ä ‡§µ‡•ç‡§Ø‡§µ‡§∏‡•ç‡§•‡§æ‡§™‡§® ‡§™‡•ç‡§∞‡§£‡§æ‡§≤‡•Ä</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Dashboard Layout -->
    <div id="dashboardPage" class="hidden">
        <div class="app-container">
            <!-- Sidebar -->
            <aside class="sidebar">
                <div class="sidebar-header d-flex align-center gap-2">
                    <div class="user-avatar" id="userAvatar">NVC</div>
                    <div>
                        <div class="text-small" id="userName">‡§™‡•ç‡§∞‡§Ø‡•ã‡§ó‡§ï‡§∞‡•ç‡§§‡§æ</div>
                        <div class="text-xs opacity-80" id="userRole">‡§∂‡§æ‡§ñ‡§æ</div>
                    </div>
                </div>
                
                <nav class="sidebar-nav" id="sidebarNav">
                    <!-- Navigation items will be dynamically loaded -->
                </nav>
                
                <div class="sidebar-footer p-2">
                    <button class="btn btn-outline w-100" onclick="logout()">
                        <i class="fas fa-sign-out-alt"></i>
                        <span class="nav-text">‡§≤‡§ó ‡§Ü‡§â‡§ü</span>
                    </button>
                </div>
            </aside>

            <!-- Main Content -->
            <main class="main-content">
                <header class="topbar">
                    <div class="topbar-title" id="pageTitle">‡§°‡•ç‡§Ø‡§æ‡§∏‡§¨‡•ã‡§∞‡•ç‡§°</div>
                    <div class="topbar-actions">
                        <div class="notification-bell" onclick="toggleNotifications()">
                            <i class="fas fa-bell"></i>
                            <span class="notification-badge" id="notificationCount"></span>
                            <div class="notification-dropdown" id="notificationDropdown">
                                <!-- Notifications will be dynamically loaded -->
                            </div>
                        </div>
                        <div class="user-menu" onclick="toggleUserMenu()">
                            <div class="user-avatar" id="topbarAvatar">U</div>
                            <div class="user-info">
                                <div class="text-small" id="topbarUserName">‡§™‡•ç‡§∞‡§Ø‡•ã‡§ó‡§ï‡§∞‡•ç‡§§‡§æ</div>
                                <div class="text-xs text-muted" id="topbarUserRole">‡§∂‡§æ‡§ñ‡§æ</div>
                            </div>
                            <i class="fas fa-chevron-down text-xs"></i>
                        </div>
                    </div>
                </header>

                <div class="content-area" id="contentArea">
                    <!-- Content will be dynamically loaded -->
                </div>
            </main>
        </div>
    </div>

    <!-- Modals -->
    <div id="complaintModal" class="modal hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="modalTitle">‡§Æ‡•ã‡§°‡§≤</h5>
                <button class="action-btn" onclick="closeModal()">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body" id="modalBody">
                <!-- Modal content will be loaded here -->
            </div>
        </div>
    </div>

    <!-- Shakha Selection Modal -->
    <div id="shakhaModal" class="modal hidden">
        <div class="modal-content" style="max-width: 700px;">
            <div class="modal-header">
                <h5 class="modal-title">‡§∂‡§æ‡§ñ‡§æ ‡§ö‡§Ø‡§® ‡§ó‡§∞‡•ç‡§®‡•Å‡§π‡•ã‡§∏‡•ç</h5>
                <button class="action-btn" onclick="closeShakhaModal()">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <div class="d-grid gap-3" style="grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));">
                    <!-- Shakha options will be dynamically loaded -->
                </div>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="https://nepalidatepicker.sajanmaharjan.com.np/v5/nepali.datepicker/js/nepali.datepicker.v5.0.6.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/toastify-js"></script> 
     <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    
    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    
    <!-- Nepali DatePicker JS -->
    <script src="https://cdn.jsdelivr.net/npm/nepali-datepicker-js@1.0.3/nepali-datepicker.min.js"></script>
    
    <!-- Nepali Functions (AD to BS conversion) -->
    <script src="https://cdn.jsdelivr.net/npm/nepali-functions@1.0.6/nepali-functions.min.js"></script>
    
    <!-- Your Custom Script -->  
<script src="script.js"></script> 
</body>
</html>